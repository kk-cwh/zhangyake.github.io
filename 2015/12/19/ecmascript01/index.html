<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="天空之城,zhangykvip@126.com"><title>JavaScript类型转换 · THIS SPACE</title><meta name="description" content="一、类型介绍 JavaScript中，共有6种类型，其中5种是基本类型，1种复杂类型。   基本类型：number、boolean、string、null、undefined   复杂类型：Object   5种基本类型中，处理null、undefined外都有相应的包装类。   除了5种基本类型之"><meta name="keywords" content="Hexo,HTML,CSS,php,Python,Node.js"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.gif" style="width:127px; border-radius: 100px;"><h3 title=""><a href="/">THIS SPACE</a></h3><div class="description"><p>live a good life.</p></div></div></div><ul class="social-links"><li><a href="/atom.xml"><i class="fa fa-rss"></i></a></li><li><a href="http://weibo.com/http://weibo.com/jaakzh"><i class="fa fa-weibo"></i></a></li><li><a href="http://github.com/https://github.com/zhangyake/"><i class="fa fa-github"></i></a></li></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=0 height=0 src="//music.163.com/outchain/player?type=2&id=410042763&auto=1&height=66"></iframe></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li><li><a href="/links">友链</a></li></div><div class="information"><div class="back_btn"><li><a onclick="window.history.go(-1)" class="fa fa-chevron-left"> </a></li></div><div class="avatar"><img src="/images/favicon.png"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>JavaScript类型转换</a></h3></div><div class="post-content"><h4 id="一、类型介绍"><a href="#一、类型介绍" class="headerlink" title="一、类型介绍"></a>一、类型介绍</h4><p> JavaScript中，共有6种类型，其中5种是基本类型，1种复杂类型。<br>   基本类型：number、boolean、string、null、undefined<br>   复杂类型：Object<br>   5种基本类型中，处理null、undefined外都有相应的包装类。<br>   除了5种基本类型之外，所有的类型都是Object类型的。<br>   typeof操作符是JavaScript中用以判断类型的操作符，返回6种全小写的字符串，分别是’number’、’boolean’、’string’ 、’null’、’undefined’。<br>   其次 还有数组Array类型 实质上也是Object类型<a id="more"></a><br>   其中null类型和Object类型的都返回’object’，function也是Object类型的，但是由于其在JavaScript中的特殊性，所以有必要单独区分！<br>   typeof操作的执行结果：<br> <img src="/2015/12/19/ecmascript01/typeof.png" alt="This is an example image" title="This is an example image"></p>
<h4 id="二、其他类型转boolean"><a href="#二、其他类型转boolean" class="headerlink" title="二、其他类型转boolean"></a>二、其他类型转boolean</h4><p> <strong>Boolean() 引起的转型</strong><br>   规则是：</p>
<ul>
<li>非0数字（含Infinity） –&gt; true</li>
<li>Object对象            –&gt; true</li>
<li>非空字符串            –&gt; true</li>
<li>0/NaN                –&gt; false</li>
<li>null                 –&gt; false</li>
<li>undefined            –&gt; false</li>
<li>‘’                   –&gt; false</li>
</ul>
 <img src="/2015/12/19/ecmascript01/boolean.png" alt="This is an example image" title="This is an example image">
<p><strong>!! 引起的转型</strong></p>
<p>与使用Boolean()一致<br> <img src="/2015/12/19/ecmascript01/!!.png" alt="This is an example image" title="This is an example image"></p>
<p><strong>! 引起的转型</strong></p>
 
<p><strong>if()引起的转型</strong></p>
 <img src="/2015/12/19/ecmascript01/if.png" alt="This is an example image" title="This is an example image">
<p><strong>&amp;&amp; 和 || 引起的转型</strong><br>包含两种情况：<br> a、两边确实是boolean，经过逻辑运算，返回相应的值。</p>
<pre><code>true &amp;&amp; false --&gt; false，
true || false --&gt; true
</code></pre><p> b、两边不是boolean<br> 下列写法，大家肯定会常常见到。</p>
<pre><code>var t = a &amp;&amp; b ； //相当于 var t = a ? b : a;
return a &amp;&amp; b； //相当于 return a ? b : a;
a &amp;&amp; test()； //相当于 a ? test() : null;
var t = a || b ;  //相当于 var t = a ? a : b;
</code></pre><h4 id="三、其它类型转number"><a href="#三、其它类型转number" class="headerlink" title="三、其它类型转number"></a>三、其它类型转number</h4><p>转number共有3个函数：Number()、parseInt()、parseFloat()</p>
<pre><code>1、Number()引起的转型 
     规则是：
           true   --&gt; 1
           false  --&gt; 0

          如果字符串中只包含数字  如&apos;123&apos; --&gt; 123
          如果字符串中包含有效的浮点数字  如&apos;123.99&apos; --&gt;123.99
          如果字符串是有效的十六进制数字  如&apos;0xFF&apos;  --&gt; 255
          如果字符串是空串 &apos;&apos; --&gt; 0
          如果字符串包含上述格式之外字符  如&apos;123a&apos;  --&gt; NaN
          如果是对象 则调用对象的valueOf方法，然后按照上述规则进行转换，
             如果没有valueOf方法，则调用对象的toString方法，然后按照上述规则进行转换。
             如果valueOf和toString都存在，则调用valueOf方法！！！

        注意：Number会忽略前导0

2、parseInt/parseFloat引起的转型
    规则是：
         null,  undefined,  &apos;&apos;, true, false  --&gt; NaN
         如果字符串中只包含数字  如 &apos;123&apos; --&gt; 123
         如果字符串中包含有效的浮点数字  如&apos;123.99&apos;  parseInt --&gt; 123, parseFloat --&gt; 123.99
         如果字符串是有效的十六进制数字  如
                    parseInt    &apos;0xFF&apos;  --&gt; 255
                    parseFloat  &apos;0xFF&apos; --&gt; 0
         解析字符串，直到某个字符不是数字为止 
                    parseInt    &apos;123a&apos; --&gt; 123 
                    parseFloat   &apos;123.3a&apos; --&gt; &apos;123.3&apos; 

        如果参数是Object类型，会调用toString()方法。注意：并不会调用valueOf方法！！！

3、+, - ,*, /,%, ++, -- 都会引起类型转换，转换规则同1。
</code></pre><h4 id="四、其它类型转string"><a href="#四、其它类型转string" class="headerlink" title="四、其它类型转string"></a>四、其它类型转string</h4><p> 1、String()引起的转型</p>
<pre><code>  规则是：

      如果值有toString()方法，则调用该方法(无参数)，并返回相应的结果
      如果值是null，则返回&apos;null&apos;
      如果值是undefined， 返回&apos;undefined&apos;

2、+ &apos;&apos; 引起的转型，规则同1。如
               var str = null + &apos;&apos;     //  &apos;null&apos;
               var str = undefined + &apos;&apos;    // &apos;undefined&apos; 
               var str = {toString:function(){return &apos;i am a object&apos;}} + &apos;&apos; // &apos;i am a object&apos;
</code></pre><h4 id="五、包装类型"><a href="#五、包装类型" class="headerlink" title="五、包装类型"></a>五、包装类型</h4><pre><code>var num = new Number(123)
转型规则同Number()
var bool = new Boolean(true)
转型规则同Boolean()
var str   = new String(&apos;123a&apos;)
转型规则同String()
</code></pre><p>   <strong>包装类型转换大招：</strong></p>
<pre><code>var val = Object(arg)
如果arg是Object类型，原样返回
如果arg是number，boolean，string，则返回相应的包装实例
如果arg是null，undefined，则返回 {}
注意：var val = new Object(arg) 跟不带new的结果一致！！！
</code></pre><h4 id="六、toString-和-valueOf-调用问题"><a href="#六、toString-和-valueOf-调用问题" class="headerlink" title="六、toString() 和 valueOf() 调用问题"></a>六、toString() 和 valueOf() 调用问题</h4><pre><code> +,-,*,/,%,++,--,Number,isNaN,isFinite
    会导致这两个方法被调用，valueOf存在就调用valueOf，不存在就调用toString，两者都存在，调用valueOf

parseInt/parseFloat/String()
    会导致toString方法被调用。。并不会调用valueOf！！！
</code></pre><h4 id="七、-gt-、-gt-、-lt-、-lt-引起的转换"><a href="#七、-gt-、-gt-、-lt-、-lt-引起的转换" class="headerlink" title="七、&gt;、&gt;=、&lt;、&lt;=引起的转换"></a>七、&gt;、&gt;=、&lt;、&lt;=引起的转换</h4><p>规则是：</p>
<pre><code>如果两个操作数都是数值，则执行数值比较

如果两个操作数都是字符串，则比较两个字符串对应的字符编码值

如果一个操作数是数值，则将另外一个操作数转换成一个数值，然后执行比较 如 2 &gt; &apos;1&apos; ，会把&apos;1&apos; 转成 1，然后和2比较

如果一个操作数是对象，则调用这个对象的valueOf方法，用得到的结果，按照前3条的规则转换之后执行比较，如果对象没有valueOf方法，则调用toString方法，用得到的结果，按照前3条的规则转换之后执行 比较。
如果一个操作数是boolean值，则先将七转换为数值，然后执行比较。true --&gt; 1、false --&gt; 0。
</code></pre><h4 id="八、-引起的转型"><a href="#八、-引起的转型" class="headerlink" title="八、== 引起的转型"></a>八、== 引起的转型</h4><p>   规则是：</p>
<pre><code>如果有一个操作数是NaN，马上返回false。

如果有一个操作数是boolean值，则在比较相等性之前，先转成数值，false转0，true转1。

如果一个操作数是字符串，另一个操作数是数值，在比较相等性之前先将字符串转为数值。

   如果一个操作数是对象，另一个操作数不是，则调用对象的valueOf方法，用得到的基本类型值按照前面的规则进行比较。
null == undefined --&gt; true

如果两个操作数是对象，则比较它们是不是同一个对象，如果两个操作数都指向同一个对象，则相等操作符返回true，否则，返回false
</code></pre><p>   参考原文：<a href="http://www.imooc.com/article/2382" target="_blank" rel="external">http://www.imooc.com/article/2382</a></p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2015-12-19</span><i class="fa fa-tag"></i><a href="/categories/前端/" title="前端" class="tag">前端 </a><a href="/tags/JavaScript/" title="JavaScript" class="tag">JavaScript </a></div></div></div></div><div class="share"><div class="evernote"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></div><div class="weibo"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></div><div class="twitter"><a href="http://twitter.com/home?status=,http://zhangyake.github.io/2015/12/19/ecmascript01/,THIS SPACE,JavaScript类型转换,;" class="fa fa-twitter"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a role="navigation" href="/2016/01/24/ecmascript02/" title="JS中特殊的对象arguments" class="btn">上一篇</a></li><li class="next pagbuttons"><a role="navigation" href="/2015/11/28/redis03/" title="redis命令学习(三)" class="btn">下一篇</a></li></ul></div><a id="comments"></a><div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div><script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script><script>var cloudTieConfig = { url: document.location.href, sourceId: '2015/12/19/ecmascript01/', productKey: 'zhangykvip@126.com', target: 'cloud-tie-wrapper' };var yunManualLoad = true;Tie.loader("aHR0cHM6Ly9hcGkuZ2VudGllLjE2My5jb20vcGMvbGl2ZXNjcmlwdC5odG1s", true);</script></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>